(function(t){function a(a){for(var s,r,l=a[0],o=a[1],c=a[2],d=0,m=[];d<l.length;d++)r=l[d],i[r]&&m.push(i[r][0]),i[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);u&&u(a);while(m.length)m.shift()();return n.push.apply(n,c||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],s=!0,l=1;l<e.length;l++){var o=e[l];0!==i[o]&&(s=!1)}s&&(n.splice(a--,1),t=r(r.s=e[0]))}return t}var s={},i={app:0},n=[];function r(a){if(s[a])return s[a].exports;var e=s[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=t,r.c=s,r.d=function(t,a,e){r.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,a){if(1&a&&(t=r(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var s in t)r.d(e,s,function(a){return t[a]}.bind(null,s));return e},r.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(a,"a",a),a},r.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},r.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=a,l=l.slice();for(var c=0;c<l.length;c++)a(l[c]);var u=o;n.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"0c07":function(t,a,e){},"30db":function(t,a,e){"use strict";var s=e("a4c0"),i=e.n(s);i.a},"399d":function(t,a,e){},4459:function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var s=e("2b0e"),i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"material-kit"}},[e("div",{class:{"nav-open":t.NavbarStore.showNavbar}},[e("router-view",{attrs:{name:"header"}}),e("div",[e("router-view")],1),e("router-view",{attrs:{name:"footer"}})],1)])},n=[],r=e("2877"),l={},o=Object(r["a"])(l,i,n,!1,null,null,null),c=o.exports,u=e("8c4f"),d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("parallax",{staticClass:"section page-header header-filter",style:t.headerStyle},[e("div",{staticClass:"container"},[e("div",{staticClass:"md-layout"},[e("div",{staticClass:"md-layout-item"},[e("h1",{staticClass:"title"},[t._v("貼り込み資料画像検索プロトタイプ")]),e("br"),e("md-button",{staticClass:"md-success md-lg",attrs:{to:{name:"search"}}},[e("i",{staticClass:"fas fa-search"}),t._v("試してみる\n          ")])],1)])])]),e("div",{staticClass:"main main-raised"},[t._m(0),e("div",{staticClass:"section",attrs:{id:"example"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"md-layout"},[e("div",{staticClass:"md-layout-item md-size-66 md-xsmall-size-100 mx-auto text-center"},[e("h2",{staticClass:"title text-center"},[t._v("検索例")]),e("div",{staticClass:"md-layout"},t._l(t.items,function(t,a){return e("div",{key:a,staticClass:"md-layout-item md-size-33 md-xsmall-size-100"},[e("router-link",{attrs:{to:{name:"search",query:{url:t.thumbnail}}}},[e("img",{staticClass:"rounded img-raised img-fluid",attrs:{src:t.thumbnail,alt:"Rounded Image"}})]),e("h4",[e("md-button",{staticClass:"md-just-icon md-simple md-dribbble",attrs:{to:{name:"search",query:{url:t.thumbnail}}}},[e("i",{staticClass:"fa fa-search"})])],1)],1)}),0)])])])])])],1)},m=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"section",attrs:{id:"about"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"md-layout"},[e("div",{staticClass:"md-layout-item md-size-66 md-xsmall-size-100 mx-auto text-center"},[e("h2",{staticClass:"title text-center"},[t._v("About")]),e("div",{staticClass:"alert alert-info"},[e("div",{staticClass:"container"},[t._v("\n                本システムはプロトタイプ（試作品）であり、データ等が予告なく変更される可能性があります。この点を了解の上でご利用ください。\n              ")])]),e("br"),e("h5",{staticClass:"description"},[t._v("\n                本システムは東京大学総合図書館が公開する\n              "),e("a",{attrs:{href:"https://iiif.dl.itc.u-tokyo.ac.jp/repo/s/tanaka"}},[t._v("田中芳男・博物学コレクション")]),t._v("の資料と、国立国会図書館デジタルコレクションで公開されている\n              "),e("a",{attrs:{href:"http://dl.ndl.go.jp/info:ndljp/pid/2610716"}},[t._v("張交帖")]),t._v("を対象として、貼り込まれた資料単位での画像検索が可能なプロトタイプです。2019年1月末時点において、99帖、13,069コマ、34,746件の貼り込み資料が検索対象となっています。\n            ")]),e("h5",{staticClass:"description"},[t._v("\n                貼り込み資料の抽出は、物体検出アルゴリズムYOLO\n              v3を用いて、機械的に実行しています。また、\n              "),e("a",{attrs:{href:"https://kunshujo.dl.itc.u-tokyo.ac.jp/"}},[t._v("電子展示『捃拾帖』")]),t._v("で公開されている貼り込み資料2,645件をモデルのファインチューニングに利用しています。詳細については、\n              "),e("a",{attrs:{href:"https://docs.google.com/presentation/d/1sfb57LXGQSNgJEvaqQUsjzImA6hoVBFBHyban4deYGA/edit?usp=sharing"}},[t._v("こちらの資料")]),t._v("をご確認ください。機械的な抽出処理を行っているため、\n              "),e("b",[t._v("貼り込み資料の抽出漏れ、および抽出誤りが含まれている点にご注意ください")]),t._v("。\n            ")]),e("h5",{staticClass:"description"},[t._v("\n                画像の閲覧ビューアには、人文学オープンデータ共同利用センターが開発した\n              "),e("a",{attrs:{href:"http://codh.rois.ac.jp/software/iiif-curation-viewer/"}},[t._v("IIIF Curation Viewer")]),t._v("を利用しています。\n            ")])])])])])}],p={bodyClass:"landing-page",props:{header:{type:String,default:e("d4b8")}},data:function(){return{items:[{thumbnail:"https://iiif.dl.itc.u-tokyo.ac.jp/iiif/kunshujou/A00_6010/046/046_0052.tif/4117,620,2186,2324/,300/0/default.jpg"},{thumbnail:"https://iiif.dl.itc.u-tokyo.ac.jp/iiif/kunshujou/A00_6010/053/053_0162.tif/955,699,1920,1349/,300/0/default.jpg"},{thumbnail:"https://iiif.dl.itc.u-tokyo.ac.jp/iiif/kunshujou/A00_6010/049/049_0175.tif/5397,2787,2009,2541/,300/0/default.jpg"},{thumbnail:"https://iiif.dl.itc.u-tokyo.ac.jp/iiif/kunshujou/A00_6010/043/043_0100.tif/5348,2846,1093,1004/,300/0/default.jpg"},{thumbnail:"https://iiif.dl.itc.u-tokyo.ac.jp/iiif/kunshujou/A00_6010/026/026_0027.tif/3813,1735,2678,3432/,300/0/default.jpg"},{thumbnail:"https://iiif.dl.itc.u-tokyo.ac.jp/iiif/kunshujou/A00_6010/065/065_0024.tif/5259,1940,1644,1960/,300/0/default.jpg"}]}},computed:{headerStyle:function(){return{backgroundImage:"url(".concat(this.header,")")}}}},h=p,f=(e("af19"),Object(r["a"])(h,d,m,!1,null,"6a81f0cc",null)),v=f.exports,g=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("parallax",{staticClass:"section page-header header-filter",style:t.headerStyle}),e("div",{staticClass:"main main-raised"},[e("div",{staticClass:"section text-center"},[e("div",{staticClass:"container"},[e("form",{staticClass:"contact-form"},[e("div",{staticClass:"md-layout"},[e("div",{staticClass:"md-layout-item md-size-66 mx-auto"},[e("div",{staticClass:"md-field md-theme-default"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"md-input",attrs:{placeholder:"Image URL: e.g. http://...jpg",type:"text",id:"md-input-czbyynxyg"},domProps:{value:t.url},on:{input:function(a){a.target.composing||(t.url=a.target.value)}}})])])]),e("div",{staticClass:"md-layout"},[e("div",{staticClass:"md-layout-item mx-auto"},[e("button",{staticClass:"md-button md-success md-theme-default",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button"},on:{click:function(a){null!=t.url&&t.$router.push({query:{url:t.url}})}}},[t._m(0)]),e("button",{staticClass:"md-button md-primary md-theme-default",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button"},on:{click:function(a){null!=t.url?t.$router.push({query:{}}):t.search()}}},[t._m(1)]),null!=t.url?e("button",{staticClass:"md-button md-theme-default",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button"},on:{click:function(a){t.classicModal=!0}}},[t._m(2)]):t._e()])])]),e("div",{staticClass:"md-layout"},[null!=this.url?e("div",{staticClass:"md-layout-item mx-auto"},[e("br"),e("img",{staticClass:"img-raised img-fluid",staticStyle:{height:"150px","margin-right":"10px","margin-left":"10px"},attrs:{src:t.url,alt:"Image"}}),null!=t.crop_dataurl?e("img",{staticClass:"img-raised img-fluid",staticStyle:{height:"150px","margin-right":"10px","margin-left":"10px"},attrs:{src:t.crop_dataurl,alt:"Image"}}):t._e()]):t._e()]),t.classicModal?e("modal",{on:{close:t.classicModalHide}},[e("template",{slot:"header"},[e("md-button",{staticClass:"md-simple md-just-icon md-round modal-default-button",on:{click:t.classicModalHide}},[e("md-icon",[t._v("clear")])],1)],1),e("template",{slot:"body"},[e("br"),e("div",{staticStyle:{height:"400px"}},[e("vue-cropper",{ref:"cropper",attrs:{guides:!0,"view-mode":2,"drag-mode":"crop","auto-crop-area":1,"min-container-width":250,"min-container-height":180,background:!0,rotatable:!0,src:t.url,alt:"Source Image","img-style":{height:"400px"}}})],1),e("br"),e("div",{staticClass:"md-layout"},[e("div",{staticClass:"md-layout-item mx-auto"},[e("button",{staticClass:"md-button md-success md-theme-default ",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button"},on:{click:function(a){t.crop_dataurl=t.$refs.cropper.getCroppedCanvas().toDataURL(),t.$router.push({query:{url:t.url,dataurl:t.crop_dataurl}})}}},[e("div",{staticClass:"md-ripple"},[e("div",{staticClass:"md-button-content"},[e("i",{staticClass:"fa fa-search"}),t._v(" 検索\n                    ")])])]),e("button",{staticClass:"md-button md-theme-default",staticStyle:{"margin-right":"10px","margin-left":"10px"},attrs:{type:"button"},on:{click:t.rotate}},[e("div",{staticClass:"md-ripple"},[e("div",{staticClass:"md-button-content"},[t._v("回転")])])])])])])],2):t._e(),e("br"),e("br"),e("div",{staticClass:"md-layout"},[this.loading?e("div",{staticClass:"md-layout-item mx-auto"},[e("br"),e("img",{attrs:{width:"45px",src:"https://secure.moneypak.com/cmsfolder/content/images/ring-alt_1.gif"}}),e("br")]):t._e()]),e("div",{staticClass:"md-layout"},t._l(t.items,function(a,s){return e("div",{key:s,staticClass:"md-layout-item md-size-20 md-xsmall-size-100"},[e("router-link",{attrs:{to:{name:"search",query:{url:a.thumbnail}}}},[e("v-lazy-image",{staticClass:"img-raised img-fluid",attrs:{src:a.thumbnail}})],1),e("h4",[t._v(t._s(a.label))]),e("p",[e("span",[a.score?e("md-progress-bar",{staticClass:"md-info",attrs:{"md-value":100*a.score}}):t._e(),e("md-tooltip",{attrs:{"md-direction":"top"}},[t._v("類似度: "+t._s(Math.ceil(100*a.score))+"%")])],1),t._l(a.metadata,function(a,s){return e("router-link",{key:s,attrs:{to:{name:"search",query:{where_metadata_label:a.label,where_metadata_value:a.value}}}},[e("badge",{attrs:{type:"default"}},[t._v(t._s(a.label)+": "+t._s(a.value))]),t._v(" \n              ")],1)}),a.metadata.length>0?e("br"):t._e(),e("md-button",{staticClass:"md-just-icon md-simple md-dribbble",on:{click:function(e){return t.$router.push({query:{url:a.thumbnail}})}}},[e("i",{staticClass:"material-icons"},[t._v("search")])]),e("md-button",{staticClass:"md-just-icon md-simple md-twitter",attrs:{target:"_blank",href:a.url}},[e("i",{staticClass:"material-icons"},[t._v("open_in_new")])])],2)],1)}),0)],1)])])],1)},b=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"md-ripple"},[e("div",{staticClass:"md-button-content"},[e("i",{staticClass:"fa fa-search"}),t._v(" 検索\n                  ")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"md-ripple"},[e("div",{staticClass:"md-button-content"},[t._v("ランダム")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"md-ripple"},[e("div",{staticClass:"md-button-content"},[t._v("画像操作")])])}],_=(e("386d"),e("bc3a")),y=e.n(_),C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDropDown,expression:"closeDropDown"}],class:[{open:t.isOpen},{dropdown:"down"===t.direction},{dropup:"up"===t.direction}],on:{click:t.toggleDropDown}},[t._t("title",[e("a",{staticClass:"dropdown-toggle",attrs:{"data-toggle":"dropdown",href:"javascript:void(0)"}},[e("i",{class:t.icon}),e("p",[t._v(t._s(t.title))])])]),t._t("default")],2)},x=[],w={name:"drop-down",props:{direction:{type:String,default:"down"},multiLevel:{type:Boolean,default:!1},title:String,icon:String},data:function(){return{isOpen:!1}},methods:{toggleDropDown:function(){this.multiLevel?this.isOpen=!0:this.isOpen=!this.isOpen},closeDropDown:function(){this.isOpen=!1}}},k=w,j=Object(r["a"])(k,C,x,!1,null,null,null),S=j.exports,O=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{style:t.styles},[t._t("default")],2)},P=[];function $(t,a,e){var s;return function(){var i=this,n=arguments;clearTimeout(s),s=setTimeout(function(){s=null,e||t.apply(i,n)},a),e&&!s&&t.apply(i,n)}}var N={name:"parallax",data:function(){return{styles:{},debounceTimeout:6}},methods:{handleScroll:function(t){var a=t/3;this.styles={transform:"translate3d(0, ".concat(a,"px,0)")}},checkForParallax:function(t){var a=this,e=$(function(){return a.handleScroll(t)},this.debounceTimeout);e()}},mounted:function(){var t=this;window.addEventListener("scroll",function(){if(window.innerWidth>991){var a=this.scrollY;t.checkForParallax(a)}})}},E=N,D=Object(r["a"])(E,O,P,!1,null,null,null),M=D.exports,T=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ul",{staticClass:"pagination",class:t.paginationClass},[e("li",{staticClass:"page-item prev-page",class:{disabled:1===t.value,"no-arrows":t.noArrows}},[e("a",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:t.prevPage}},[t.withText?[t._v("Prev")]:e("i",{staticClass:"fas fa-angle-double-left"})],2)]),t._l(t.range(t.minPage,t.maxPage),function(a){return e("li",{key:a,staticClass:"page-item",class:{active:t.value===a}},[e("a",{staticClass:"page-link",on:{click:function(e){return t.changePage(a)}}},[t._v(t._s(a))])])}),e("li",{staticClass:"page-item page-pre next-page",class:{disabled:t.value===t.totalPages,"no-arrows":t.noArrows}},[e("a",{staticClass:"page-link",attrs:{"aria-label":"Next"},on:{click:t.nextPage}},[t.withText?[t._v("Next")]:e("i",{staticClass:"fas fa-angle-double-right"})],2)])],2)},A=[],B=(e("c5f6"),e("6762"),e("2fdb"),{name:"pagination",props:{type:{type:String,default:"primary",validator:function(t){return["default","primary","danger","success","warning","info","rose"].includes(t)}},withText:Boolean,noArrows:Boolean,pageCount:{type:Number,default:0},perPage:{type:Number,default:10},total:{type:Number,default:0},value:{type:Number,default:1}},computed:{paginationClass:function(){return"pagination-".concat(this.type)},totalPages:function(){return this.pageCount>0?this.pageCount:this.total>0?Math.ceil(this.total/this.perPage):1},pagesToDisplay:function(){return this.totalPages>0&&this.totalPages<this.defaultPagesToDisplay?this.totalPages:this.defaultPagesToDisplay},minPage:function(){if(this.value>=this.pagesToDisplay){var t=Math.floor(this.pagesToDisplay/2),a=t+this.value;return a>this.totalPages?this.totalPages-this.pagesToDisplay+1:this.value-t}return 1},maxPage:function(){if(this.value>=this.pagesToDisplay){var t=Math.floor(this.pagesToDisplay/2),a=t+this.value;return a<this.totalPages?a:this.totalPages}return this.pagesToDisplay}},data:function(){return{defaultPagesToDisplay:5}},methods:{range:function(t,a){for(var e=[],s=t;s<=a;s++)e.push(s);return e},changePage:function(t){this.$emit("input",t)},nextPage:function(){this.value<this.totalPages&&this.$emit("input",this.value+1)},prevPage:function(){this.value>1&&this.$emit("input",this.value-1)}},watch:{perPage:function(){this.$emit("input",1)},total:function(){this.$emit("input",1)}}}),I=B,L=Object(r["a"])(I,T,A,!1,null,null,null),z=(L.exports,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"slider",class:["slider-"+t.type],attrs:{disabled:t.disabled}})}),q=[],H=(e("8e6e"),e("ac6a"),e("456d"),e("bd86")),U=e("e9fa"),V=e.n(U);function F(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,s)}return e}function Y(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?F(e,!0).forEach(function(a){Object(H["a"])(t,a,e[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):F(e).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})}return t}var G,J={name:"slider",props:{value:[String,Array,Number],disabled:Boolean,start:{type:[Number,Array],default:0},connect:{type:[Boolean,Array],default:function(){return[!0,!1]}},range:{type:Object,default:function(){return{min:0,max:100}}},type:{type:String,default:""},options:{type:Object,default:function(){return{}}}},data:function(){return{slider:null}},methods:{createSlider:function(){var t=this;V.a.create(this.$el,Y({start:this.value||this.start,connect:this.connect,range:this.range},this.options));var a=this.$el.noUiSlider;a.on("slide",function(){var e=a.get();e!==t.value&&t.$emit("input",e)})}},mounted:function(){this.createSlider()},watch:{value:function(t,a){var e=this.$el.noUiSlider,s=e.get();t!==a&&s!==t&&(Array.isArray(s)&&Array.isArray(t)?a.length===t.length&&a.every(function(a,e){return a===t[e]})&&e.set(t):e.set(t))}}},Q=J,R=Object(r["a"])(Q,z,q,!1,null,null,null),X=R.exports,W=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(t.tag,{tag:"component",staticClass:"badge",class:"badge-"+t.type},[t._t("default")],2)},K=[],Z={name:"badge",props:{tag:{type:String,default:"span"},type:{type:String,default:"default",validator:function(t){var a=["primary","info","success","warning","danger","rose","default"];return-1!==a.indexOf(t)}}}},tt=Z,at=Object(r["a"])(tt,W,K,!1,null,null,null),et=at.exports,st=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("md-card",{staticClass:"md-card-nav-tabs",class:{"no-label":t.noLabel,"md-card-plain":t.tabsPlain}},[e("md-card-content",[t._t("content")],2)],1)},it=[],nt={name:"nav-tabs-card",props:{noLabel:Boolean,tabsPlain:Boolean}},rt=nt,lt=Object(r["a"])(rt,st,it,!1,null,null,null),ot=(lt.exports,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("md-card",{staticClass:"md-card-login",class:{"md-card-hidden":t.cardHidden}},[e("md-card-header",{class:t.getClass(t.headerColor)},[t._t("title"),e("div",{staticClass:"social-line"},[t._t("buttons")],2)],2),e("md-card-content",[t._t("description"),t._t("inputs")],2),e("md-card-actions",[t._t("footer")],2)],1)}),ct=[],ut={name:"login-card",props:{headerColor:{type:String,default:""}},data:function(){return{cardHidden:!0}},beforeMount:function(){setTimeout(this.showCard,400)},methods:{showCard:function(){this.cardHidden=!1},getClass:function(t){return"md-card-header-"+t}}},dt=ut,mt=Object(r["a"])(dt,ot,ct,!1,null,null,null),pt=(mt.exports,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("md-card",{staticClass:"md-card-tabs",class:[{"flex-column":t.flexColumn},{"nav-pills-icons":t.navPillsIcons},{"md-card-plain":t.plain}]},[e("md-card-header",{attrs:{slot:"header-title"},slot:"header-title"}),e("md-card-content",[e("md-list",{staticClass:"nav-tabs"},t._l(t.tabName,function(a,s){var i;return e("md-list-item",{key:a,class:[{active:t.isActivePanel(t.tabName[s])},(i={},i[t.getColorButton(t.colorButton)]=t.isActivePanel(t.tabName[s]),i)],on:{click:function(a){return t.switchPanel(t.tabName[s])}}},[t._v("\n        "+t._s(t.tabName[s])+"\n        "),t.navPillsIcons?e("md-icon",[t._v(t._s(t.tabIcon[s]))]):t._e()],1)}),1),e("transition",{attrs:{name:"fade",mode:"out-in"}},[e("div",{staticClass:"tab-content"},t._l(t.tabName,function(a,s){return t.isActivePanel(t.tabName[s])?e("div",{key:a,class:t.getTabContent(s+1)},[t._t(t.getTabContent(s+1),[t._v("\n            This is the default text!\n          ")])],2):t._e()}),0)])],1)],1)}),ht=[],ft={props:{flexColumn:Boolean,navPillsIcons:Boolean,plain:Boolean,tabName:Array,tabIcon:Array,colorButton:{type:String,default:""}},data:function(){return{activePanel:this.tabName[0]}},methods:{switchPanel:function(t){this.activePanel=t},isActivePanel:function(t){return this.activePanel==t},getColorButton:function(t){return"md-"+t},getTabContent:function(t){return"tab-pane-"+t}}},vt=ft,gt=Object(r["a"])(vt,pt,ht,!1,null,null,null),bt=(gt.exports,function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask"},[e("div",{staticClass:"modal-wrapper"},[e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeModal,expression:"closeModal"}],staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[t._t("header")],2),e("div",{staticClass:"modal-body text-center"},[t._t("body")],2),e("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])}),_t=[],yt={name:"modal",methods:{closeModal:function(){this.$emit("close")}}},Ct=yt,xt=(e("30db"),Object(r["a"])(Ct,bt,_t,!1,null,null,null)),wt=xt.exports,kt=e("95c3"),jt=e.n(kt),St=(e("6107"),e("8dc2")),Ot=e.n(St),Pt={components:{Badge:et,Slider:X,VueCropper:jt.a,Modal:wt,VLazyImage:Ot.a},bodyClass:"profile-page",data:function(){return{url:null,items:[],number:40,loading:!0,prefix:"http://kunshujo-i.dl.itc.u-tokyo.ac.jp",crop_dataurl:null,classicModal:!1}},props:{header:{type:String,default:e("d4b8")}},watch:{$route:function(){this.search()}},computed:{headerStyle:function(){return{backgroundImage:"url(".concat(this.header,")")}}},methods:{search:function(){this.loading=!0,this.items=[],this.url=null,this.crop_dataurl=null,this.classicModal=!1;var t=Object.assign({},this.$route.query);t.where_metadata_label?this.search_metadata(t.where_metadata_label,t.where_metadata_value):t.url?(this.url=t.url,t.dataurl?(this.crop_dataurl=t.dataurl,this.search_url(t.dataurl)):this.search_url(t.url)):this.search_random()},search_random:function(){var t=this,a=this.prefix+"/api/random",e={};e.rows=this.number,y.a.get(a,{params:e}).then(function(a){t.loading=!1,t.items=a.data})},search_url:function(t){var a=this,e=new URLSearchParams;e.append("url",t),e.append("rows",this.number);var s=this.prefix+"/api/asearch";y.a.post(s,e).then(function(t){a.loading=!1,a.items=t.data})},search_metadata:function(t,a){var e=this,s={};s.where_metadata_label=t,s.where_metadata_value=a,s.rows=this.number;var i=this.prefix+"/api/msearch";y.a.get(i,{params:s}).then(function(t){e.loading=!1,e.items=t.data})},rotate:function(){this.$refs.cropper.rotate(90)},classicModalHide:function(){this.classicModal=!1}},created:function(){this.search()}},$t=Pt,Nt=(e("c004"),Object(r["a"])($t,g,b,!1,null,"1e042a16",null)),Et=Nt.exports,Dt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("parallax",{staticClass:"section page-header header-filter",style:t.headerStyle}),e("div",{staticClass:"main main-raised"},[e("div",{staticClass:"section"},[e("div",{staticClass:"container"},[t._l(t.items,function(a,s){return[e("h2",{key:s,staticClass:"title text-center"},[t._v(t._s(s))]),e("div",{key:s,staticClass:"md-layout"},[e("div",{staticClass:"md-layout-item md-size-66 mx-auto"},t._l(a,function(a,i){return e("md-button",{key:i,attrs:{to:{name:"search",query:{where_metadata_label:s,where_metadata_value:i}}}},[e("i",{staticClass:"fas fa-tag"}),t._v(" "+t._s(i)+": "+t._s(a))])}),1)])]})],2)])])],1)},Mt=[],Tt={components:{Badge:et,Slider:X},bodyClass:"profile-page",data:function(){return{items:{},prefix:"http://kunshujo-i.dl.itc.u-tokyo.ac.jp"}},props:{header:{type:String,default:e("d4b8")}},computed:{headerStyle:function(){return{backgroundImage:"url(".concat(this.header,")")}}},methods:{search:function(){var t=this;this.loading=!0,this.items={};var a=this.prefix+"/api/metadata";y.a.get(a).then(function(a){t.loading=!1,t.items=a.data})}},created:function(){this.search()}},At=Tt,Bt=(e("a381"),Object(r["a"])(At,Dt,Mt,!1,null,"4ae9ee34",null)),It=Bt.exports,Lt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("md-toolbar",{staticClass:"md-transparent md-absolute",class:t.extraNavClasses,attrs:{id:"toolbar","md-elevation":"0","color-on-scroll":t.colorOnScroll}},[e("div",{staticClass:"md-toolbar-row md-collapse-lateral"},[e("div",{staticClass:"md-toolbar-section-start"},[e("h3",{staticClass:"md-title"},[t._v("貼り込み資料画像検索プロトタイプ")])]),e("div",{staticClass:"md-toolbar-section-end"},[e("md-button",{staticClass:"md-just-icon md-simple md-toolbar-toggle",class:{toggled:t.toggledClass},on:{click:function(a){return t.toggleNavbarMobile()}}},[e("span",{staticClass:"icon-bar"}),e("span",{staticClass:"icon-bar"}),e("span",{staticClass:"icon-bar"})]),e("div",{staticClass:"md-collapse"},[e("div",{staticClass:"md-collapse-wrapper"},[e("mobile-menu",{attrs:{"nav-mobile-section-start":"false"}}),e("md-list",[e("md-list-item",{attrs:{to:{name:"index"}}},[e("i",{staticClass:"material-icons"},[t._v("home")]),e("p",[t._v("HOME")])]),e("md-list-item",{attrs:{to:{name:"search"}}},[e("i",{staticClass:"material-icons"},[t._v("search")]),e("p",[t._v("画像検索")])]),e("md-list-item",{attrs:{to:{name:"metadata"}}},[e("i",{staticClass:"material-icons"},[t._v("list")]),e("p",[t._v("メタデータ検索")])]),e("md-list-item",{attrs:{target:"_blank",href:"https://nakamura196.github.io/sim_kunshujo/"}},[e("i",{staticClass:"material-icons"},[t._v("3d_rotation")]),e("p",[t._v("可視化")])]),e("md-list-item",{attrs:{href:"https://docs.google.com/presentation/d/1sfb57LXGQSNgJEvaqQUsjzImA6hoVBFBHyban4deYGA/edit?usp=sharing",target:"_blank"}},[e("i",{staticClass:"material-icons"},[t._v("book")]),e("p",[t._v("説明資料")])])],1)],1)])],1)])])},zt=[],qt=(e("7f7f"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return"true"===t.navMobileSectionStart?e("md-list",{staticClass:"nav-mobile-menu nav-mobile-section-start"},[t._t("default")],2):t._e()}),Ht=[],Ut={name:"mobile-menu",props:{navMobileSectionStart:{type:String,default:"false"}}},Vt=Ut,Ft=Object(r["a"])(Vt,qt,Ht,!1,null,null,null),Yt=Ft.exports;function Gt(t){G||(G=setTimeout(function(){G=null,t()},66))}var Jt={components:{MobileMenu:Yt},props:{type:{type:String,default:"white",validator:function(t){return["white","default","primary","danger","success","warning","info"].includes(t)}},colorOnScroll:{type:Number,default:0}},data:function(){return{extraNavClasses:"",toggledClass:!1}},computed:{showDownload:function(){var t=this,a=["login","landing","profile"];return a.every(function(a){return a!==t.$route.name})}},methods:{bodyClick:function(){var t=document.getElementById("bodyClick");if(null===t){var a=document.querySelector("body"),e=document.createElement("div");e.setAttribute("id","bodyClick"),a.appendChild(e);var s=document.getElementById("bodyClick");s.addEventListener("click",this.toggleNavbarMobile)}else t.remove()},toggleNavbarMobile:function(){this.NavbarStore.showNavbar=!this.NavbarStore.showNavbar,this.toggledClass=!this.toggledClass,this.bodyClick()},handleScroll:function(){var t=document.body.scrollTop||document.documentElement.scrollTop,a=document.getElementById("toolbar");this.currentScrollValue=t,this.colorOnScroll>0&&t>this.colorOnScroll?(this.extraNavClasses="md-".concat(this.type),a.classList.remove("md-transparent")):this.extraNavClasses&&(this.extraNavClasses="",a.classList.add("md-transparent"))},scrollListener:function(){Gt(this.handleScroll)},scrollToElement:function(){var t=document.getElementById("downloadSection");t&&t.scrollIntoView({block:"end",behavior:"smooth"})}},mounted:function(){document.addEventListener("scroll",this.scrollListener)},beforeDestroy:function(){document.removeEventListener("scroll",this.scrollListener)}},Qt=Jt,Rt=Object(r["a"])(Qt,Lt,zt,!1,null,null,null),Xt=Rt.exports,Wt=function(){var t,a=this,e=a.$createElement,s=a._self._c||e;return s("footer",{staticClass:"footer",class:(t={},t["footer-"+a.type]=a.type,t),attrs:{"data-background-color":a.backgroundColor}},[a._m(0)])},Kt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("nav",[e("ul",[e("li",[e("a",{attrs:{href:"https://iiif.dl.itc.u-tokyo.ac.jp/repo/s/tanaka"}},[t._v("\n            田中芳男・博物学コレクション\n          ")])]),e("li",[e("a",{attrs:{href:"https://kunshujo.dl.itc.u-tokyo.ac.jp/"}},[t._v("\n            電子展示『捃拾帖』\n          ")])]),e("li",[e("a",{attrs:{href:"http://dl.ndl.go.jp/info:ndljp/pid/2610716"}},[t._v("\n            国立国会図書館『張交帖』\n          ")])])])]),e("div",{staticClass:"copyright"},[t._v("\n      東京大学学術資産等アーカイブズ委員会事務局"),e("br"),t._v("\n      （東京大学附属図書館総務課／ "),e("br"),t._v("\n      学術資産アーカイブ化推進室） "),e("br"),t._v("\n      E-mail：digital-archive [at] lib.u-tokyo.ac.jp\n      "),e("hr"),t._v("\n      Design from "),e("a",{attrs:{href:"https://www.creative-tim.com/"}},[t._v("Creative Tim")]),t._v(".\n    ")])])}],Zt={props:{backgroundColor:String,type:String},data:function(){return{year:(new Date).getFullYear()}}},ta=Zt,aa=Object(r["a"])(ta,Wt,Kt,!1,null,null,null),ea=aa.exports;s["default"].use(u["a"]);var sa=new u["a"]({routes:[{path:"/",name:"index",components:{default:v,header:Xt,footer:ea},props:{header:{colorOnScroll:100},footer:{backgroundColor:"black"}}},{path:"/search",name:"search",components:{default:Et,header:Xt,footer:ea},props:{header:{colorOnScroll:10},footer:{backgroundColor:"black"}}},{path:"/metadata",name:"metadata",components:{default:It,header:Xt,footer:ea},props:{header:{colorOnScroll:10},footer:{backgroundColor:"black"}}}],scrollBehavior:function(t){return t.hash?{selector:t.hash}:{x:0,y:0}}}),ia=e("43f9"),na=e.n(ia),ra=(e("51de"),e("60b6"),e("4459"),e("c7db")),la={install:function(t){t.directive("click-outside",ra["directive"])}},oa=la,ca={install:function(t){t.mixin({mounted:function(){var t=this.$options.bodyClass;t&&document.body.classList.add(t)},beforeDestroy:function(){var t=this.$options.bodyClass;t&&document.body.classList.remove(t)}})}},ua=ca,da=e("e37d"),ma={install:function(t){t.component("drop-down",S),t.component(M.name,M),t.component("v-popover",da["a"])}},pa=ma,ha=e("caf9"),fa=e("0a63"),va=e.n(fa),ga={install:function(t){t.use(na.a),t.use(oa),t.use(ua),t.use(pa),t.use(va.a),t.use(ha["a"],{observer:!0,observerOptions:{rootMargin:"0px",threshold:.1}})}};s["default"].config.productionTip=!1,s["default"].use(ga);var ba={showNavbar:!1};s["default"].mixin({data:function(){return{NavbarStore:ba}}}),new s["default"]({router:sa,render:function(t){return t(c)}}).$mount("#app")},"60b6":function(t,a,e){},a381:function(t,a,e){"use strict";var s=e("399d"),i=e.n(s);i.a},a4c0:function(t,a,e){},af19:function(t,a,e){"use strict";var s=e("eb38"),i=e.n(s);i.a},c004:function(t,a,e){"use strict";var s=e("0c07"),i=e.n(s);i.a},d4b8:function(t,a,e){t.exports=e.p+"static/img/bg7.63731a37.jpg"},eb38:function(t,a,e){}});
//# sourceMappingURL=app.05b26fc3.js.map